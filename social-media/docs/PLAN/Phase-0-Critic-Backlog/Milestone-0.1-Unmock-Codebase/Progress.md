# Milestone 0.1 - Unmock Codebase - Progress

## Status: ï¿½ IN PROGRESS

**Last Updated:** 2026-02-21
**Session ID:** 333a6cbf-c6af-4498-a310-feb20be44cf9
**Completion:** 39/70 items (55.7%)

## Overview

This milestone tracks the conversion of mocked/stubbed implementations and TODO-style markers into real implementations across the SocialHub codebase.

## PRD Items Summary

This milestone is executed top-to-bottom from `prd.json`. Tracking is maintained via the bookkeeping log below.

## Notes

- Milestone generated by `./ralph-critic.sh` session 333a6cbf-c6af-4498-a310-feb20be44cf9
- Manual audit performed to identify mocks/stubs not caught by initial scan
- Total findings: 12 occurrences across 6 files
- Frontend: Angular services with hardcoded mock data
- Backend: Go auth service with placeholder implementations

## Bookkeeping Log

- [x] C.001 completed - Replaced analytics engagement sample data with a DB-backed query; plumbed DB into AnalyticsHandler; tests: `go test ./...` (backend)
- [x] C.002 completed - Replaced handler TODO by adding DB-backed total count method and using it for pagination metadata; tests: `go test ./...` (backend)
- [x] C.003 completed - Implemented real pagination in GetFollowers handler with total count from DB; tests pass
- [x] C.004 completed - Implemented real pagination in GetFollowing handler with total count from DB; tests pass
- [x] C.005 completed - Replaced stub total count in GetFeed handler with DB-backed CountFeedPosts query; tests pass
- [x] C.006 completed - Replaced sample search/trending/suggested responses with DB-backed queries; tests: `go test ./...` (backend)
- [x] C.007 completed - Replaced sample user profiles with DB-backed user lookup + counts; tests: `go test ./...` (backend)
- [x] C.008 completed - Implemented DB-backed comment insert and incremented post comment count in transaction; tests: `go test ./...` (backend)
- [x] C.009 completed - Implemented DB-backed CommentService.GetComments query returning user details; tests: `go test ./...` (backend)
- [x] C.010 completed - Implemented DB-backed CommentService.GetComment query; tests: `go test ./...` (backend)
- [x] C.011 completed - Implemented DB-backed CommentService.GetCommentTree and built nested tree; tests: `go test ./...` (backend)
- [x] C.012 completed - Implemented DB-backed CommentService.GetReplies query; tests: `go test ./...` (backend)
- [x] C.013 completed - Implemented authorization-enforced soft delete with count bookkeeping; tests: `go test ./...` (backend)
- [x] C.014 completed - Implemented authorization-enforced UpdateComment with edited timestamps; tests: `go test ./...` (backend)
- [x] C.015 completed - Implemented DB-backed recursive CTE depth calculation for replies; tests: `go test ./...` (backend)
- [x] C.016 completed - Implemented DB-backed IncrementCommentLikes; tests: `go test ./...` (backend)
- [x] C.017 completed - Implemented DB-backed DecrementCommentLikes; tests: `go test ./...` (backend)
- [x] C.018 completed - Implemented DB-backed IncrementReplyCount; tests: `go test ./...` (backend)
- [x] C.019 completed - Implemented DB-backed DecrementReplyCount; tests: `go test ./...` (backend)
- [x] C.020 completed - Implemented DB-backed FollowUser (insert/restore); tests: `go test ./...` (backend)
- [x] C.021 completed - Implemented DB-backed UnfollowUser (soft delete); tests: `go test ./...` (backend)
- [x] C.022 completed - Implemented DB-backed IsFollowing; tests: `go test ./...` (backend)
- [x] C.023 completed - Confirmed DB-backed CountFollowers/CountFollowing in FollowService; tests: `go test ./...` (backend)
- [x] C.024 completed - Confirmed DB-backed GetFollowers; tests: `go test ./...` (backend)
- [x] C.025 completed - Confirmed DB-backed GetFollowing; tests: `go test ./...` (backend)
- [x] C.026 completed - Confirmed DB-backed GetFollowCounts; tests: `go test ./...` (backend)
- [x] C.027 completed - Implemented DB-backed GetMutualFollows; tests: `go test ./...` (backend)
- [x] C.028 completed - Implemented DB-backed GetFollowSuggestions (2nd-degree network); tests: `go test ./...` (backend)
- [x] C.029 completed - Removed PostService placeholder marker; tests: `go test ./...` (backend)
- [x] C.030 completed - Implemented DB-backed PostService.CreatePost with hashtag insertion; tests: `go test ./...` (backend)
- [x] C.031 completed - Removed placeholder return behavior for CreatePost; tests: `go test ./...` (backend)
- [x] C.032 completed - Implemented DB-backed PostService.GetPost with user details + user reaction; tests: `go test ./...` (backend)
- [x] C.033 completed - Implemented DB-backed PostService.GetFeed; tests: `go test ./...` (backend)
- [x] C.034 completed - Implemented DB-backed PostService.UpdatePost with ownership check; tests: `go test ./...` (backend)
- [x] C.035 completed - Implemented DB-backed PostService.DeletePost with ownership check; tests: `go test ./...` (backend)
- [x] C.036 completed - Implemented DB-backed PostService.GetPostsByUser; tests: `go test ./...` (backend)
- [x] C.037 completed - Implemented DB-backed PostService.GetPostsByHashtag; tests: `go test ./...` (backend)
- [x] C.038 completed - Implemented DB-backed ReactionService.React insert; tests: `go test ./...` (backend)
- [x] C.039 completed - Removed placeholder reaction return behavior; tests: `go test ./...` (backend)
- [x] C.040 completed - Implemented DB-backed ReactionService.RemoveReaction with delete query; tests: `go test ./...` (backend)
- [x] C.041 completed - Implemented DB-backed ReactionService.ToggleReaction with add/remove logic; tests: `go test ./...` (backend)
- [x] C.042 completed - Implemented DB-backed ReactionService.GetReactions with user join; tests: `go test ./...` (backend)
- [x] C.043 completed - Implemented DB-backed ReactionService.GetUserReaction query; tests: `go test ./...` (backend)
- [x] C.044 completed - Implemented DB-backed ReactionService.GetReactionCounts with aggregation; tests: `go test ./...` (backend)
- [x] C.045 completed - Implemented DB-backed ReactionService.GetTopReactions with ORDER BY; tests: `go test ./...` (backend)
- [x] C.046 completed - Implemented DB-backed ReactionService.ChangeReaction with UPDATE; tests: `go test ./...` (backend)
- [x] C.047 completed - Replaced mock user data in followers.component.ts with UserService API calls; created UserService
- [x] C.048 completed - Replaced mock user data in following.component.ts with UserService API calls
- [x] C.049 completed - Implemented real API calls in analytics.service.ts getEngagementData; tests pass
- [x] C.050 completed - Implemented real API calls in analytics.service.ts getFollowerGrowth; tests pass
- [x] C.051 completed - Implemented real API calls in analytics.service.ts getStats; tests pass
- [x] C.052 completed - Implemented loadFromApi with Promise.all for batch fetching; tests pass
- [x] C.053 completed - Removed all "In full implementation" TODO markers from analytics.service.ts
- [x] C.054 completed - Removed all "For now, return fallback" markers from analytics.service.ts
- [x] C.055 completed - Replaced mock data in comment.service.ts with real API calls (BaseApiService + HTTP methods)
- [x] C.056 completed - Implemented real API call in hashtag.service.ts getPostsByHashtag
- [x] C.057 completed - Implemented real API call in hashtag.service.ts refreshTrending
- [x] C.058 completed - Implemented real API call in hashtag.service.ts getHashtagInfo
- [x] C.059 completed - Implemented real API call in mention.service.ts getUserByUsername
- [x] C.060 completed - Implemented real API call in mention.service.ts getAllUsers
- [x] C.061 completed - Implemented real API call in mention.service.ts (in_full_impl markers removed)
- [x] C.062 completed - Implemented real API call in mention.service.ts searchUsers
- [x] C.063 completed - Removed "For now, search fallback users" marker from mention.service.ts
