{
  "milestone": "5.9",
  "title": "End-to-End Tests - Core User Flows",
  "problem": "End-to-end tests validate critical user journeys through the application using a real browser. These tests ensure all components work together correctly and user workflows function as expected.",
  "success_metrics": [
    "Core user flows have E2E test coverage",
    "Tests run in CI with headless browser",
    "Tests complete in < 5 minutes",
    "Screenshots captured on failure",
    "Video recording for debugging"
  ],
  "non_goals": [
    "Unit testing components (covered in Milestone 5.5)",
    "API testing (covered in Milestone 5.6)",
    "Visual regression testing (future phase)"
  ],
  "items": [
    {
      "id": "5.9.1",
      "title": "Registration Flow E2E Test",
      "type": "e2e_test",
      "description": "Complete user registration flow test.",
      "acceptance_criteria": [
        "Navigate to registration page",
        "Fill name, email, password fields",
        "Verify password strength indicator",
        "Check terms checkbox",
        "Submit registration form",
        "Verify success toast notification",
        "Verify redirect to feed page",
        "Verify user is logged in (header shows user)",
        "Test duplicate email error",
        "Take screenshot on failure"
      ],
      "passes": false
    },
    {
      "id": "5.9.2",
      "title": "Login Flow E2E Test",
      "type": "e2e_test",
      "description": "User login and session management flow.",
      "acceptance_criteria": [
        "Navigate to login page",
        "Fill email and password",
        "Submit login form",
        "Verify loading state",
        "Verify redirect to feed page",
        "Verify user menu shows correct user",
        "Test invalid credentials error",
        "Test 'Remember me' persistence",
        "Logout and verify redirect",
        "Test protected route redirect"
      ],
      "passes": false
    },
    {
      "id": "5.9.3",
      "title": "Post Creation E2E Test",
      "type": "e2e_test",
      "description": "Create post with various content types.",
      "acceptance_criteria": [
        "Login as test user",
        "Navigate to feed page",
        "Click create post button",
        "Type post content",
        "Verify character counter",
        "Attach image(s)",
        "Verify image preview",
        "Submit post",
        "Verify post appears in feed",
        "Verify toast notification",
        "Test validation (empty content, too long)"
      ],
      "passes": false
    },
    {
      "id": "5.9.4",
      "title": "Feed Interaction E2E Test",
      "type": "e2e_test",
      "description": "Interact with feed and posts.",
      "acceptance_criteria": [
        "Login and view feed",
        "Verify posts load with skeleton",
        "Scroll and trigger infinite load",
        "Verify hasMore pagination",
        "Click like on post",
        "Verify like count updates",
        "Click comment button",
        "View comments section",
        "Click share button",
        "Click bookmark button",
        "Navigate to different feed tabs"
      ],
      "passes": false
    },
    {
      "id": "5.9.5",
      "title": "Profile Management E2E Test",
      "type": "e2e_test",
      "description": "View and edit user profile.",
      "acceptance_criteria": [
        "Login as test user",
        "Navigate to profile page",
        "Verify profile info displays",
        "Click edit profile",
        "Change bio text",
        "Upload new avatar",
        "Verify image crop/modal",
        "Save changes",
        "Verify profile updated",
        "View posts grid",
        "Test follow/unfollow buttons"
      ],
      "passes": false
    },
    {
      "id": "5.9.6",
      "title": "Navigation E2E Test",
      "type": "e2e_test",
      "description": "Test application navigation and routing.",
      "acceptance_criteria": [
        "Test sidebar navigation links",
        "Test header navigation",
        "Test mobile menu toggle",
        "Test browser back/forward",
        "Test direct URL access",
        "Test 404 page",
        "Test query parameter handling",
        "Test active route highlighting",
        "Test keyboard navigation (Tab)"
      ],
      "passes": false
    },
    {
      "id": "5.9.7",
      "title": "Responsive Design E2E Test",
      "type": "e2e_test",
      "description": "Test application at different viewports.",
      "acceptance_criteria": [
        "Test at mobile viewport (375px)",
        "Test at tablet viewport (768px)",
        "Test at desktop viewport (1440px)",
        "Verify sidebar collapse on mobile",
        "Verify feed layout adjustments",
        "Verify post card responsive",
        "Test mobile navigation drawer",
        "Take screenshots at each size"
      ],
      "passes": false
    },
    {
      "id": "5.9.8",
      "title": "Dark Mode E2E Test",
      "type": "e2e_test",
      "description": "Test dark mode toggle and persistence.",
      "acceptance_criteria": [
        "Toggle dark mode",
        "Verify dark class applied to body",
        "Verify dark theme styles applied",
        "Navigate between pages",
        "Verify theme persists",
        "Reload page",
        "Verify theme still active",
        "Toggle back to light",
        "Verify light theme restored"
      ],
      "passes": false
    }
  ],
  "affected_files": [
    "e2e/tests/auth/register.spec.ts",
    "e2e/tests/auth/login.spec.ts",
    "e2e/tests/posts/create.spec.ts",
    "e2e/tests/feed/interact.spec.ts",
    "e2e/tests/profile/manage.spec.ts",
    "e2e/tests/navigation/nav.spec.ts",
    "e2e/tests/ui/responsive.spec.ts",
    "e2e/tests/ui/dark-mode.spec.ts"
  ],
  "affected_dependencies": [
    "@playwright/test",
    "Playwright browsers (chromium)"
  ]
}
